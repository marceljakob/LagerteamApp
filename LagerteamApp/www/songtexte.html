<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Songtexte</title>

    <!-- Bootstrap einbinden -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Eigene Stylesheets & Scripte-->
    <link rel="stylesheet" href="css/songtexte.css" />
    <script src="js/songtexte.js"></script>
</head>

<body>
    <!-- Navigationsleiste -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Logo</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="#">Men√º</a>
                <a class="nav-item nav-link" href="#">Online-Anmeldung</a>
                <a class="nav-item nav-link" href="#">Kalender</a>
                <a class="nav-item nav-link" href="#">Gallerie</a>
                <a class="nav-item nav-link active" href="#">Songtexte <span class="sr-only">(current)</span></a>
                <a class="nav-item nav-link" href="#">Kontakt</a>
                <a class="nav-item nav-link" href="#">Intern</a>
            </div>
        </div>
    </nav>

    <!-- Seiteninhalt -->
    <main>
        <!-- Liste der Songtexte -->
        <section class="container" id="songtexte">
            <!--√úberschrift-->
            <h1>
                Songtexte
            </h1>

            <!--Anfang eines Song Elements-->
            <a href="#ein-kompliment">
                <div class="song">
                    <div class="icon"><img src="https://images-na.ssl-images-amazon.com/images/I/41L5SK2fn7L.jpg" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Ein Kompliment
                        </span>
                        <br>Sportfreunde Stiller
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->

            <!--Anfang eines Song Elements-->
            <a href="#kameradenlied">
                <div class="song">
                    <div class="icon"><img src="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-11/256/musical-score.png" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Kameradenlied
                        </span>
                        <br>Lagerteam
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->

            <!--Anfang eines Song Elements-->
            <a href="#bws">
                <div class="song">
                    <div class="icon"><img src="" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Beliebiger weiterer Song
                        </span>
                        <br>Interpret des Songs
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->
        </section>
        
        <!--Beginn Songtext Section-->
        <section class="container" id="showSong">
            <h3>
                <!--Buttons zur Steuerung der Scroll-Funktion-->
                <a href=""><button type="button" class="backbutton btn btn-dark">‚óÑ &nbsp; Zur√ºck zur Auswahl</button></a>
                <button type="button" class="minusButton btn btn-dark" id="minusButton" onclick="slowDownScroll();">‚ûñ</button>
                <button type="button" class="plusButton btn btn-dark" id="plusButton" onclick="speedUpScroll();">‚ûï</button>
                <button type="button" class="autoscrollbutton btn btn-dark" onclick="pageScroll();" id="pageScrollButton">‚ñ∫ &nbsp; aktiviere auto-scroll</button>
            </h3>
            <!--Platzhalter f√ºr den Titel eines Songs-->
            <h3><div id="songtitle">Songtext Title</div></h3>
            <!--Platzhalter f√ºr den Text eines Songs-->
            <div id="songtext">Songtext</div>
        </section>
        <!--Ende Songtext Section-->
    </main>

</body>

<!--Das folgende Script enth√§lt die Logik der scroll-Funktion:
Die scroll-Funktion erm√∂glicht es dem Anwender die Seite automaitsch hinunter zu scrollen.
Des Weiteren l√§sst sich die Geschwindigkeit des scrollen einstellen.-->
<script>
    /**
    Variablen f√ºr die Buttons aus dem HTML-Dokument anlegen und zuweisen
    Variable zum Steuern der Scroll Geschwindigkeit anlegen und Default Wert zuweisen
    **/
    let scrollButton = document.getElementById("pageScrollButton");
    let plusButton = document.getElementById("plusButton");
    let minusButton = document.getElementById("minusButton");
    let delayOfScroll = 100;
    
    /**
    Funktion um das automatische scrollen der Seite zu starten.
    Das onclick Attribut des ScrollButtons wird dahingehend ver√§ndert, das bei erneutem klicken die stopScroll() Funktion aufgerufen wird.
    Die Position der Buttons wird angepasst und auf fixed gesetzt, um zu verhindern das sie bei zu weitem Scrollen aus der Bildfl√§che verschwinden. 
    Der Inhalt des scrollButtons wird ver√§ndert um dem Anwender zu signalisieren, dass die Seite gescrollt wird und er durch erneutes klicken das scrollen anhalten kann.
    Die Seite wird nach einem Vordefinierten Delay von 100ms um jeweils einen Pixel hinuntergescrollt und auf der Console wird signalisiert, dass die Seite gescrollt wird. 
    Das scrollen von nur einem Pixel je 100ms erm√∂glicht eine sehr fl√ºssige Bewegung.
    **/
    function pageScroll() {
        scrollButton.setAttribute("onclick","stopScroll()");
        scrollButton.classList.add("position-fixed");
        plusButton.classList.add("position-fixed");
        minusButton.classList.add("position-fixed");
        scrollButton.innerHTML = "&#10074;&#10074; &nbsp; scroll";
        window.scrollBy(0,1);
        scrolldelay = setTimeout(pageScroll,delayOfScroll);
        console.log("scrolling down");
    }
    
    /**
    Funktion um das automatische scrollen der Seite zu stopen.
    Das onclick Attribut des ScrollButtons wird dahingehend ver√§ndert, das bei erneutem klicken die pageScroll() Funktion aufgerufen wird.
    Die Position der Buttons wird angepasst und das fixed Attribut entfernt, um die Button an die urspr√ºnglich definierte Position zu bewegen. 
    Der Inhalt des scrollButtons wird ver√§ndert um dem Anwender zu signalisieren, dass die Seite nicht gescrollt wird und er durch erneutes klicken das scrollen starten kann.
    Die pageScroll Funktion wird beendet und auf der Console wird ausgegeben, dass die Seite nicht gescrollt wird.
    **/
    function stopScroll() {
        scrollButton.setAttribute("onclick","pageScroll()");
        scrollButton.classList.remove("position-fixed");
        plusButton.classList.remove("position-fixed");
        minusButton.classList.remove("position-fixed");
        scrollButton.innerHTML = "‚ñ∫ &nbsp; aktiviere auto-scroll";
        clearInterval(scrolldelay);
        console.log("stop scrolling down");
    }
    
    /**
    Funktion um die Geschwindigkeit des scrollen um 1.5x zu verringern
    **/
    function slowDownScroll(){
        delayOfScroll = delayOfScroll * 1.5;
    }
    
    /**
    Funktion um die Geschwindigkeit des scrollen um 1.5x zu erh√∂hen
    **/
    function speedUpScroll(){
        delayOfScroll = delayOfScroll / 1.5;
    }
</script>

</html>