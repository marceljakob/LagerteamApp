<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>Songtexte</title>

    <!-- Bootstrap einbinden -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/default.css" />

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Eigene Stylesheets & Scripte-->
    <link rel="stylesheet" href="css/songtexte.css" />
    <script src="js/songtexte.js"></script>
</head>

<body>
    <!-- Navigationsleiste -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="./"><img src="img/logo.png"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="./">Men√º</a>
                <a class="nav-item nav-link" href="anmeldung.html">Online-Anmeldung</a>
                <a class="nav-item nav-link" href="kalender.html">Kalender</a>
                <a class="nav-item nav-link" href="galerie.html">Galerie</a>
                <a class="nav-item nav-link active" href="">Songtexte <span class="sr-only">(current)</span></a>
                <a class="nav-item nav-link" href="kontaktformular.php">Kontakt</a>
                <a class="nav-item nav-link" href="intern.php">Intern</a>
            </div>
        </div>
    </nav>

    <!-- Seiteninhalt -->
    <main>
        <!-- Liste der Songtexte -->
        <section class="container container-navbar-fixed" id="songtexte">
            <!--√úberschrift-->
            <h1>
                Songtexte
            </h1>

            <!--Anfang eines Song Elements-->
            <a href="#ein-kompliment">
                <div class="song">
                    <div class="icon"><img src="https://images-na.ssl-images-amazon.com/images/I/41L5SK2fn7L.jpg" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Ein Kompliment
                        </span>
                        <br>Sportfreunde Stiller
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->

            <!--Anfang eines Song Elements-->
            <a href="#kameradenlied">
                <div class="song">
                    <div class="icon"><img src="https://s3.amazonaws.com/pix.iemoji.com/images/emoji/apple/ios-11/256/musical-score.png" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Kameradenlied
                        </span>
                        <br>Lagerteam
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->

            <!--Anfang eines Song Elements-->
            <a href="#take-me-home-country-roads">
                <div class="song">
                    <div class="icon"><img src="https://img.discogs.com/sh4ABlaRGhPpPSvfp9UZL78R4JQ=/fit-in/300x300/filters:strip_icc():format(jpeg):mode_rgb():quality(40)/discogs-images/R-4434565-1449776530-4843.jpeg.jpg" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Take Me Home Country Roads
                        </span>
                        <br>John Denver
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->

            <!--Anfang eines Song Elements-->
            <a href="#knockin-on-heavens-door">
                <div class="song">
                    <div class="icon"><img src="https://img.discogs.com/TyqjgM_eIWjXtbBSBFHn6Wt7KKQ=/fit-in/599x600/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-1786527-1371805380-4334.jpeg.jpg" alt="üíø"></div>
                    <div class="description">
                        <span class="title">
                            Knockin On Heavens Door
                        </span>
                        <br>Guns n Roses
                    </div>
                </div>
            </a>
            <!--Ende eines Song Elements-->
        </section>

        <!--Beginn Songtext Section-->
        <section class="container container-navbar-fixed" id="showSong">
            <h3>
                <!-- Zur√ºck Button-->
                <a href=""><button type="button" class="backbutton btn btn-dark">‚óÑ &nbsp; Zur√ºck zur Auswahl</button></a>
                <button type="button" class="zoomInButton btn btn-dark" id="zoomInButton" onclick="zoomIn();">üîç‚ûï</button>
                <button type="button" class="zoomOutButton btn btn-dark disabled" id="zoomOutButton" onclick="zoomOut();">üîç‚ûñ</button>
                <!--Buttons zur Steuerung der Scroll-Funktion-->
                <button type="button" class="minusButton btn btn-dark" id="minusButton" onclick="slowDownScroll();">‚ûñ</button>
                <button type="button" class="plusButton btn btn-dark" id="plusButton" onclick="speedUpScroll();">‚ûï</button>
                <button type="button" class="autoscrollbutton btn btn-dark" onclick="pageScroll();" id="pageScrollButton">‚ñ∫ &nbsp; aktiviere auto-scroll (Speed x1.0)</button>
            </h3>
            <!--Platzhalter f√ºr den Titel eines Songs-->
            <h4>
                <div id="songtitle">Songtext Title</div>
            </h4>
        </section>
        <section class="container" id="songtextSection">
            <!--Platzhalter f√ºr den Text eines Songs-->
            <div id="songtext"></div>
        </section>
        <!--Ende Songtext Section-->
    </main>

</body>

<!--Das folgende Script enth√§lt die Logik der scroll-Funktion:
Die scroll-Funktion erm√∂glicht es dem Anwender die Seite automaitsch hinunter zu scrollen.
Des Weiteren l√§sst sich die Geschwindigkeit des scrollen einstellen.-->
<script>
    /**
    Variablen f√ºr die Buttons aus dem HTML-Dokument anlegen und zuweisen
    **/
    let scrollButton = document.getElementById("pageScrollButton");
    let plusButton = document.getElementById("plusButton");
    let minusButton = document.getElementById("minusButton");
    /** Variablen um Scroll-Geschwindigkeit zu steuern und anzuzeigen **/
    let delayOfScroll = 100;
    let speed = 1;

    /**
    Funktion um das automatische scrollen der Seite zu starten.
    Das onclick Attribut des ScrollButtons wird dahingehend ver√§ndert, das bei erneutem klicken die stopScroll() Funktion aufgerufen wird.
    Die Position der Buttons wird angepasst und auf fixed gesetzt, um zu verhindern das sie bei zu weitem Scrollen aus der Bildfl√§che verschwinden.
    Der Inhalt des scrollButtons wird ver√§ndert um dem Anwender zu signalisieren, dass die Seite gescrollt wird und er durch erneutes klicken das scrollen anhalten kann.
    Die Funktion .toFixed(1) erm√∂glicht die Darstellung mit immer genau einer Dezimalstelle nach dem Komma.
    Die Seite wird nach einem Vordefinierten Delay von 100ms um jeweils einen Pixel hinuntergescrollt und auf der Console wird signalisiert, dass die Seite gescrollt wird.
    Das scrollen von nur einem Pixel je 100ms erm√∂glicht eine sehr fl√ºssige Bewegung.
    **/
    function pageScroll() {
        scrollButton.setAttribute("onclick", "stopScroll()");
        scrollButton.classList.add("position-fixed");
        plusButton.classList.add("position-fixed");
        minusButton.classList.add("position-fixed");
        scrollButton.innerHTML = "&#10074;&#10074; &nbsp; scroll (Speed x" + speed.toFixed(1) + ")";
        window.scrollBy(0, 1);
        scrolldelay = setTimeout(pageScroll, delayOfScroll);
        console.log("scrolling down");
    }

    /**
    Funktion um das automatische scrollen der Seite zu stopen.
    Das onclick Attribut des ScrollButtons wird dahingehend ver√§ndert, das bei erneutem klicken die pageScroll() Funktion aufgerufen wird.
    Die Position der Buttons wird angepasst und das fixed Attribut entfernt, um die Button an die urspr√ºnglich definierte Position zu bewegen.
    Der Inhalt des scrollButtons wird ver√§ndert um dem Anwender zu signalisieren, dass die Seite nicht gescrollt wird und er durch erneutes klicken das scrollen starten kann.
    Die pageScroll Funktion wird beendet und auf der Console wird ausgegeben, dass die Seite nicht gescrollt wird.
    **/
    function stopScroll() {
        scrollButton.setAttribute("onclick", "pageScroll()");
        scrollButton.classList.remove("position-fixed");
        plusButton.classList.remove("position-fixed");
        minusButton.classList.remove("position-fixed");
        scrollButton.innerHTML = "‚ñ∫ &nbsp; aktiviere auto-scroll";
        clearInterval(scrolldelay);
        console.log("stop scrolling down");
    }

    /**
    Funktion um die Geschwindigkeit des scrollen um x1.5 zu verringern
    Es wird gepr√ºft ob die Geschwindigkeit bereits die Untergrenze von 0 erreicht hat.
    Ist die Grenze noch nicht erreicht wird die Geschwindigkeit um x1.5 verringert und die Variable speed angepasst.
    F√ºr den Fall, das die Geschwindigkeit zuvor am Maximum war, wird der plusButton wieder aktiviert.
    Zuletzt wird gepr√ºft ob die Geschwindigkeit nun das Minimum erreicht hat, falls dem so ist, wird der minusButton deaktiviert.
    **/
    function slowDownScroll() {
        if (speed > 0) {
            delayOfScroll = delayOfScroll * 1.5;
            speed = speed - .5;
            plusButton.classList.remove("disabled");
            if (speed == 0) {
                minusButton.classList.add("disabled");
            }
        }
    }

    /**
    Funktion um die Geschwindigkeit des scrollen um x1.5 zu erh√∂hen
    Es wird gepr√ºft ob die Geschwindigkeit bereits die Obergrenze von 5 erreicht hat.
    Ist die Grenze noch nicht erreicht wird die Geschwindigkeit um x1.5 erh√∂ht und die Variable speed angepasst.
    F√ºr den Fall, das die Geschwindigkeit zuvor am Minimum war, wird der minusButton wieder aktiviert.
    Zuletzt wird gepr√ºft ob die Geschwindigkeit nun das Maximum erreicht hat, falls dem so ist, wird der plusButton deaktiviert.
    **/
    function speedUpScroll() {
        if (speed < 5) {
            delayOfScroll = delayOfScroll / 1.5;
            speed = speed + .5;
            minusButton.classList.remove("disabled");
            if (speed == 5) {
                plusButton.classList.add("disabled");
            }
        }
    }

    /** Variablen f√ºr die Buttons aus dem HTML Dokument anlegen und zuweisen **/
    let songImg = document.getElementById("songtextSection");
    let zoomInButton = document.getElementById("zoomInButton");
    let zoomOutButton = document.getElementById("zoomOutButton");

    /**
    zoomIn Funktion um den Songtext zu vergr√∂√üern.
    Der Songtext Section wird die Klasse container entfernt.
    Der zoomInButton wird deaktiviert.
    Der zoomOutButton wird aktiviert.
    **/
    function zoomIn() {
        songImg.classList.remove("container");
        songImg.style.marginLeft = "15pt";
        zoomInButton.classList.add("disabled");
        zoomOutButton.classList.remove("disabled");
    }

    /**
    zoomOut Funktion um den Songtext zu verkleinern.
    Der Songtext Section wird die Klasse container hinzugef√ºgt.
    Der zoomInButton wird aktiviert.
    Der zoomOutButton wird deaktiviert.
    **/
    function zoomOut() {
        songImg.classList.add("container");
        songImg.style.marginLeft = "";
        zoomInButton.classList.remove("disabled");
        zoomOutButton.classList.add("disabled");
    }
</script>

</html>
